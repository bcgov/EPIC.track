"""milestones

Revision ID: dafd11916289
Revises: 629cd22af195
Create Date: 2022-02-21 22:08:51.761103

"""
from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision = 'dafd11916289'
down_revision = '629cd22af195'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    milestone_type = op.create_table('milestone_types',
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    milestone = op.create_table('milestones',
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('name', sa.String(), nullable=False),
    sa.Column('phase_id', sa.Integer(), nullable=False),
    sa.Column('milestone_type_id', sa.Integer(), nullable=False),
    sa.Column('sort_order', sa.Integer(), nullable=False),
    sa.Column('is_start_event', sa.Boolean(), nullable=True),
    sa.Column('is_end_event', sa.Boolean(), nullable=True),
    sa.ForeignKeyConstraint(['milestone_type_id'], ['milestone_types.id'], ),
    sa.ForeignKeyConstraint(['phase_id'], ['phase_codes.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.bulk_insert(milestone_type,
     [
        {
            "name" : "CEAO Decision"
        },
        {
            "name" : "Document Approval"
        },
        {
            "name" : "Meeting"
        },
        {
            "name" : "Minister Decision"
        },
        {
            "name" : "Notification"
        },
        {
            "name" : "Open House"
        },
        {
            "name" : "Order"
        },
        {
            "name" : "Other"
        },
        {
            "name" : "Other Decision"
        },
        {
            "name" : "Package Receipt"
        },
        {
            "name" : "PECP"
        },
        {
            "name" : "Proponent Time"
        },
        {
            "name" : "Report"
        },
        {
            "name" : "Request"
        },
        {
            "name" : "Review"
        },
        {
            "name" : "Submission"
        },
        {
            "name" : "Virtual Open House"
        }
    ])
    op.bulk_insert(milestone,
    [
	{
		"name" : "Submission of IPD & Engagement Plan",
		"phase_id" : 11,
		"milestone_type_id" : 16,
		"sort_order" : 1,
		"is_start_event": True,
		"is_end_event": False
	},
	{
		"name" : "PECP",
		"phase_id" : 11,
		"milestone_type_id" : 11,
		"sort_order" : 2,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Open House",
		"phase_id" : 11,
		"milestone_type_id" : 6,
		"sort_order" : 3,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Virtual Open House",
		"phase_id" : 11,
		"milestone_type_id" : 17,
		"sort_order" : 4,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Summary of Engagement",
		"phase_id" : 11,
		"milestone_type_id" : 13,
		"sort_order" : 5,
		"is_start_event": False,
		"is_end_event": True
	},
	{
		"name" : "Project Withdrawn",
		"phase_id" : 11,
		"milestone_type_id" : 1,
		"sort_order" : 6,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Other",
		"phase_id" : 11,
		"milestone_type_id" : 8,
		"sort_order" : 7,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "EE: Proponent Time",
		"phase_id" : 12,
		"milestone_type_id" : 12,
		"sort_order" : 8,
		"is_start_event": True,
		"is_end_event": True
	},
	{
		"name" : "Project Termination (s.39)",
		"phase_id" : 12,
		"milestone_type_id" : 1,
		"sort_order" : 9,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Other",
		"phase_id" : 12,
		"milestone_type_id" : 8,
		"sort_order" : 10,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Submission of DPD",
		"phase_id" : 13,
		"milestone_type_id" : 16,
		"sort_order" : 11,
		"is_start_event": True,
		"is_end_event": False
	},
	{
		"name" : "Report & Referral",
		"phase_id" : 13,
		"milestone_type_id" : 13,
		"sort_order" : 12,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Readiness Decision",
		"phase_id" : 13,
		"milestone_type_id" : 4,
		"sort_order" : 13,
		"is_start_event": False,
		"is_end_event": True
	},
	{
		"name" : "Other",
		"phase_id" : 13,
		"milestone_type_id" : 8,
		"sort_order" : 14,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Draft Process Order Submission",
		"phase_id" : 14,
		"milestone_type_id" : 16,
		"sort_order" : 15,
		"is_start_event": True,
		"is_end_event": False
	},
	{
		"name" : "PECP",
		"phase_id" : 14,
		"milestone_type_id" : 11,
		"sort_order" : 16,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Open House",
		"phase_id" : 14,
		"milestone_type_id" : 6,
		"sort_order" : 17,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Virtual Open House",
		"phase_id" : 14,
		"milestone_type_id" : 17,
		"sort_order" : 18,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Process Order Issued",
		"phase_id" : 14,
		"milestone_type_id" : 7,
		"sort_order" : 19,
		"is_start_event": False,
		"is_end_event": True
	},
	{
		"name" : "Project Withdrawn",
		"phase_id" : 14,
		"milestone_type_id" : 1,
		"sort_order" : 20,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Other",
		"phase_id" : 14,
		"milestone_type_id" : 8,
		"sort_order" : 21,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "ADR: Proponent Time",
		"phase_id" : 15,
		"milestone_type_id" : 12,
		"sort_order" : 22,
		"is_start_event": True,
		"is_end_event": True
	},
	{
		"name" : "Project Termination (s.39)",
		"phase_id" : 15,
		"milestone_type_id" : 1,
		"sort_order" : 23,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Process Order Amended (s.19)",
		"phase_id" : 15,
		"milestone_type_id" : 7,
		"sort_order" : 24,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Other",
		"phase_id" : 15,
		"milestone_type_id" : 8,
		"sort_order" : 25,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Draft Application Submission",
		"phase_id" : 16,
		"milestone_type_id" : 16,
		"sort_order" : 26,
		"is_start_event": True,
		"is_end_event": False
	},
	{
		"name" : "PECP",
		"phase_id" : 16,
		"milestone_type_id" : 11,
		"sort_order" : 27,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Open House",
		"phase_id" : 16,
		"milestone_type_id" : 6,
		"sort_order" : 28,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Virtual Open House",
		"phase_id" : 16,
		"milestone_type_id" : 17,
		"sort_order" : 29,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Process Order Amended (s.19)",
		"phase_id" : 16,
		"milestone_type_id" : 7,
		"sort_order" : 30,
		"is_start_event": False,
		"is_end_event": True
	},
	{
		"name" : "Project Withdrawn",
		"phase_id" : 16,
		"milestone_type_id" : 1,
		"sort_order" : 31,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Other",
		"phase_id" : 16,
		"milestone_type_id" : 8,
		"sort_order" : 32,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "ADR: Proponent Time",
		"phase_id" : 17,
		"milestone_type_id" : 12,
		"sort_order" : 33,
		"is_start_event": True,
		"is_end_event": True
	},
	{
		"name" : "Project Termination (s.39)",
		"phase_id" : 17,
		"milestone_type_id" : 1,
		"sort_order" : 34,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Process Order Amended (s.19)",
		"phase_id" : 17,
		"milestone_type_id" : 7,
		"sort_order" : 35,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Other",
		"phase_id" : 17,
		"milestone_type_id" : 8,
		"sort_order" : 36,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Application Submission",
		"phase_id" : 18,
		"milestone_type_id" : 16,
		"sort_order" : 37,
		"is_start_event": True,
		"is_end_event": False
	},
	{
		"name" : "Process Order Amended (s.19)",
		"phase_id" : 18,
		"milestone_type_id" : 7,
		"sort_order" : 38,
		"is_start_event": False,
		"is_end_event": True
	},
	{
		"name" : "Project Withdrawn",
		"phase_id" : 18,
		"milestone_type_id" : 1,
		"sort_order" : 39,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Other",
		"phase_id" : 18,
		"milestone_type_id" : 8,
		"sort_order" : 40,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Draft Assessment Report",
		"phase_id" : 19,
		"milestone_type_id" : 13,
		"sort_order" : 41,
		"is_start_event": True,
		"is_end_event": False
	},
	{
		"name" : "PECP",
		"phase_id" : 19,
		"milestone_type_id" : 11,
		"sort_order" : 42,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Open House",
		"phase_id" : 19,
		"milestone_type_id" : 6,
		"sort_order" : 43,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Virtual Open House",
		"phase_id" : 19,
		"milestone_type_id" : 17,
		"sort_order" : 44,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Process Order Amended (s.19)",
		"phase_id" : 19,
		"milestone_type_id" : 7,
		"sort_order" : 45,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Project Withdrawn",
		"phase_id" : 19,
		"milestone_type_id" : 1,
		"sort_order" : 46,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Other",
		"phase_id" : 19,
		"milestone_type_id" : 8,
		"sort_order" : 47,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "Referral Package Received",
		"phase_id" : 20,
		"milestone_type_id" : 16,
		"sort_order" : 48,
		"is_start_event": True,
		"is_end_event": False
	},
	{
		"name" : "Minister Meeting",
		"phase_id" : 20,
		"milestone_type_id" : 3,
		"sort_order" : 49,
		"is_start_event": False,
		"is_end_event": False
	},
	{
		"name" : "EAC Decision",
		"phase_id" : 20,
		"milestone_type_id" : 4,
		"sort_order" : 50,
		"is_start_event": False,
		"is_end_event": True
	},
	{
		"name" : "Other",
		"phase_id" : 20,
		"milestone_type_id" : 8,
		"sort_order" : 51,
		"is_start_event": False,
		"is_end_event": False
	}
])
    # ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table('milestones')
    op.drop_table('milestone_types')
    # ### end Alembic commands ###
