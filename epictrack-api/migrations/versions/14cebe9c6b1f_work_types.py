"""work_types

Revision ID: 14cebe9c6b1f
Revises: dac396b13921
Create Date: 2023-11-18 12:57:42.637542

"""
from alembic import op
import sqlalchemy as sa
from sqlalchemy.dialects import postgresql

# revision identifiers, used by Alembic.
revision = '14cebe9c6b1f'
down_revision = 'dac396b13921'
branch_labels = None
depends_on = None


def upgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    op.execute("TRUNCATE works RESTART IDENTITY CASCADE")
    op.execute("TRUNCATE work_phases RESTART IDENTITY CASCADE")
    op.execute("TRUNCATE event_templates RESTART IDENTITY CASCADE")
    op.execute("TRUNCATE event_templates_history RESTART IDENTITY CASCADE")
    op.execute("TRUNCATE event_configurations RESTART IDENTITY CASCADE")
    op.execute("TRUNCATE event_configurations_history RESTART IDENTITY CASCADE")
    op.execute("TRUNCATE work_types RESTART IDENTITY CASCADE")
    work_types = [
        {
            "name": "Project Notification",
            "report_title": "Project Notification",
            "is_active": True
        },
        {
            "name": "Minister''s Designation",
            "report_title": "Project Designation Request",
            "is_active": True
        },
        {
            "name": "CEAO''s Designation",
            "report_title": "Project Designation Request",
            "is_active": True
        },
        {
            "name": "Intake (Pre-EA)",
            "report_title": "Intake (Pre-EA)",
            "is_active": False
        },
        {
            "name": "Exemption Order",
            "report_title": "Exemption Order Request",
            "is_active": True
        },
        {
            "name": "Assessment",
            "report_title": "EA Certificate Request",
            "is_active": True
        },
        {
            "name": "Amendment",
            "report_title": "EAC/Order Amendment",
            "is_active": True
        },
         {
            "name": "Post-EAC Document Review",
            "report_title": "Post-Decision Plan Review",
            "is_active": False
        },
        {
            "name": "EAC Extension",
            "report_title": "EAC Extension Request",
            "is_active": False
        },
        {
            "name": "Substantial Start Decision",
            "report_title": "Substantial Start Decision",
            "is_active": False
        },
        {
            "name": "EAC/Order Transfer",
            "report_title": "EAC/Order Transfer",
            "is_active": False
        },
        {
            "name": "EAC/Order Suspension",
            "report_title": "EAC/Order Suspension",
            "is_active": False
        },
        {
            "name": "EAC/Order Cancellation",
            "report_title": "EAC/Order Cancellation",
            "is_active": False
        },
        {
            "name": "Other",
            "report_title": "Other EAO Work",
            "is_active": False
        }
    ]
    for index, work_type in enumerate(work_types):
        op.execute(f"INSERT INTO work_types(name, report_title, sort_order, is_active)VALUES('{work_type['name']}', '{work_type['report_title']}','{(index + 1) if work_type['name'] != 'Other' else 32767}', {work_type['is_active']})")
    ### end Alembic commands ###


def downgrade():
    # ### commands auto generated by Alembic - please adjust! ###
    pass

    # ### end Alembic commands ###
